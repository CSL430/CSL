<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>贷款月供计算器</title>
<script>
// 贷款计算函数
function calculateLoan(amount, annualRate, months) {
    var monthlyRate = annualRate / 1200; // 转换为月利率
    var monthlyPayment1 = 0, monthlyPayment2 = 0;

    // 等额本息计算
    monthlyPayment1 = amount * monthlyRate / (1 - Math.pow((1 + monthlyRate), -months));

    // 等额本金计算
    var remainingAmount = amount;
    for (var i = 1; i <= months; i++) {
        var interest = remainingAmount * monthlyRate;
        monthlyPayment2 += Math.min(interest, remainingAmount);
        remainingAmount -= interest;
    }
    
    return {
        amortized: monthlyPayment1.toFixed(2),
        principal: monthlyPayment2.toFixed(2)
    };
}

// 处理表单提交
function handleSubmit(event) {
    event.preventDefault();
    var amount = parseFloat(document.getElementById('loanAmount').value);
    var annualRate = parseFloat(document.getElementById('annualRate').value);
    var months = parseInt(document.getElementById('loanTerm').value);

    var results = calculateLoan(amount, annualRate, months);
    document.getElementById('amortizedResult').innerText = '等额本息月供： ' + results.amortized;
    document.getElementById('principalResult').innerText = '等额本金月供： ' + results.principal;
}
</script>
</head>
<body>
<h1>贷款月供计算器</h1>
<form onsubmit="handleSubmit(event)">
    <label for="loanAmount">贷款金额（万元）:</label>
    <input type="number" id="loanAmount" step="0.01" required>
    <br><br>
    <label for="annualRate">贷款年利率（%）:</label>
    <input type="number" id="annualRate" step="0.01" required>
    <br><br>
    <label for="loanTerm">贷款月数（最大360个月）:</label>
    <input type="number" id="loanTerm" min="1" max="360" required>
    <br><br>
    <input type="submit" value="计算">
</form>

<p id="amortizedResult"></p>
<p id="principalResult"></p>
</body>
</html>
